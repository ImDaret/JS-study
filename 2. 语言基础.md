# 变量

## var 声明

### var 声明的作用域

使用 var 声明的变量将会变成该函数内部的局部变量，比如下面声明的变量将在函数退出时被销毁：

```javascript
function test() {
  var message = "hi";
}
test();
console.log(message); //出错！;
```

假如不用 var 关键字声明，该变量将会变成全局变量

```javascript
function test() {
  message = "hi";
}
test();
console.log(message); // “hi”;
```

### var 声明提升

下面这段代码不会报错。

```javascript
function foo() {
  console.log(message); // undefined
  var message = "hi";
}
foo();
```

之所以不报错是因为可以把它理解为如下代码

```javascript
function foo() {
  var message;
  console.log(message);
  message = "hi";
}
```

这就是提升，用 var 定义的变量都会被提升到函数作用域最顶部。此外，反复声明同一个变量也没有问题

## let 声明
### 作用域不同
用 var 声明的作用域是函数作用域，用 let 声明的作用域是块作用域，比如下面：
```javascript
if(true) {
  var message = 'hello';
  let result = 'world'
  console.log(message); // 'hello'
  console.log(result); // 'world'
}
console.log(message); // 'hello'
console.log(result); // 报错 result is not defined
```
### 不能重复声明
```javascript
let age = 20;
let age = 30; // 报错 'age' has already been declared
```
### 在不同的块中可以重复声明
```javascript
let age = 20
if(true) {
  let age = 30
  console.log(age) // 30
}
console.log(age) // 20
```
### 暂时性死区（不会变量提升）
```javascript
console.log(varAge) // undefined
console.log(age) // 报错
let age = 20
var varAge = 30
```
### 不会成为window对象属性
```javascript
var varAge = 30
console.log(window.varAge) // 30
let age = 20
console.log(window.age) // 20
```

### for循环中的let声明
```javascript
for(let i=0; i<5; i++) {
  setTimeout(() => console.log(i), 0) // 0 1 2 3 4
}
console.log(i) // 报错 not defined
for(var i=0; i<5; i++) {
  setTimeout(() => console.log(i), 0) // 5 5 5 5 5
}
console.log(i) // 5
```

## const 声明

1. 与let用法基本相同，但是定义变量的同时必须初始化，而且不允许修改。

2. const声明的限制只是它指向的变量的引用，换句话说，const声明的对象是可以修改的。

3. for循环涉及到自增时，无法使用const声明，但是`for...in`,`for...of`可以。

```javascript
for(const key in {a: 1, b: 2}) {
  console.log(key) // a b
}

for(const value of [1, 2, 3, 4, 5]) {
  console.log(value) // 1 2 3 4 5
}
```

## 数据类型
### typeof操作符

### Undefined

### Null
